<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui">
<h:head>
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
	<link rel="stylesheet"
		href="https://use.fontaweacsome.com/releases/v5.0.13/css/all.css" />
	<!--  ui:debug /-->
	<title>Flights</title>
</h:head>
<h:body>


  <b:navbarLinks>
  	<b:navLink value="Home" href="welcome.xhtml"></b:navLink>
    <b:navLink value="AirLineList" href="ListAirLines.xhtml"></b:navLink>
    <b:navLink value="AirPortList" href="airportList.xhtml"></b:navLink>
    <b:navLink value="FilightList" href="flightList.xhtml"></b:navLink>
  </b:navbarLinks>

	<div class="container">
		<nav class="navbar navbar-light bg-light justify-content-between">
		<a class="navbar-brand">Flights</a>
		<form class="form-inline">
			<input class="form-control mr-sm-2" type="search"
				placeholder="Search" aria-label="Search" />
			<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
		</form>
		</nav>


		<f:view>

			<h:panelGrid columns="2">

				<h:panelGroup>
					<h:form>

						<h:outputLabel for="flightMenu" value="AirLine Name"></h:outputLabel>
						<h:selectOneMenu id="flightMenu"
							value="#{backingBean.selectedAirlineName}" lazy="true">
							change the page
							<f:ajax listener="#{backingBean.setSelectedAirline()}"
								render="flightTable" />
							<f:selectItem itemLabel="Select One" itemValue="airlineName" />
							<f:selectItems value="#{backingBean.getAirlineNames()}"></f:selectItems>
						</h:selectOneMenu>

					</h:form>
				</h:panelGroup>

				<h:panelGroup>

					<h:form>

						<h:outputLabel for="flightDestination" value="Destination code"></h:outputLabel>
						<h:selectOneMenu id="flightDestination"
							value="#{backingBean.selectedAirportCode}" lazy="true">
							change the page
							<f:ajax listener="#{backingBean.selectFlightsByDestinaction()}"
								render="flightTable" />
							<f:selectItem itemLabel="Select One"
								itemValue="Destination Airport" />
							<f:selectItems value="#{backingBean.getAirPorts()}"></f:selectItems>
						</h:selectOneMenu>

					</h:form>

				</h:panelGroup>
			</h:panelGrid>


			<h:dataTable id="flightTable" value="#{backingBean.flights}"
				var="flight" styleClass="table" headerClass="accountTableHeader"
				rowClasses="accountTableOddRow,accountTableEvenRow">
				<h:column>
					<f:facet name="header">id</f:facet>    				
      #{flight.id}
   </h:column>

				<h:column>
					<f:facet name="header">Flight Number</f:facet>    				
      #{flight.flightnr}
   </h:column>
				<h:column>
					<f:facet name="header">Departure Date</f:facet>    				
      #{flight.departureDate}
   </h:column>

				<h:column>
					<f:facet name="header">Departure Time</f:facet>    				
      #{flight.departureTime}
   </h:column>
				<h:column>
					<f:facet name="header">Arrival Date</f:facet>    				
      #{flight.arrivalDate}
   </h:column>

				<h:column>
					<f:facet name="header">Arrival Time</f:facet>    				
      #{flight.arrivalTime}
   </h:column>

				<h:column>
					<f:facet name="header">Origin</f:facet>    				
      #{flight.origin.name}
   </h:column>

				<h:column>
					<f:facet name="header">Destination</f:facet>    				
      #{flight.destination.name}
   </h:column>
				<h:column>
					<f:facet name="header">AirPlane</f:facet>    				
      #{flight.airplane.serialnr}
   </h:column>




				<h:column>
					<f:facet name="header">Action</f:facet>
					<h:column>

					</h:column>

				</h:column>

			</h:dataTable>
		</f:view>



	</div>


</h:body>
</html>